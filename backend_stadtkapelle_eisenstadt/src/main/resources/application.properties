# General config
server.port=8081

# File Storage Configuration (Production-Ready)
file.storage.upload-dir=${FILE_STORAGE_UPLOAD_DIR}
file.storage.public-base-url=${FILE_STORAGE_PUBLIC_BASE_URL}
file.storage.max-file-size=${FILE_STORAGE_MAX_FILE_SIZE}
file.storage.allowed-image-extensions=.jpg,.jpeg,.png,.gif,.bmp


# Legacy config (deprecated, use file.storage.* instead)
app.upload.dir=${APP_UPLOAD_DIR:${file.storage.upload-dir}}

# CORS Configuration
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS}

server.servlet.context-path=/api/v1
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB


spring.application.name=backend_stadtkapelle_eisenstadt

spring.jpa.database=postgresql

spring.jpa.show-sql=false
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.open-in-view=false

spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver


# Actuator Configuration
# Only expose essential endpoints
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.endpoint.health.roles=ACTUATOR_ADMIN

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.jpa.hibernate.ddl-auto=none


# Auth0 Configuration
# ----------------------------------------------------

# The domain of your Auth0 tenant. You can find it in the Auth0 Dashboard.
# Example: https://dev-xyz.eu.auth0.com/
# IMPORTANT: Check if your Auth0 domain ends with a slash '/'. If so, include it here as well.
auth0.domain=${AUTH0_DOMAIN}

# The identifier (audience) of your API that you created in Auth0 under "Applications" -> "APIs".
# This is the value you set as 'https://api.stadtkapelle-eisenstadt.at/'.
# This MUST match exactly!
auth0.audience=${AUTH0_AUDIENCE}

AUTH0_ISSUER_URI=${AUTH0_ISSUER_URI}

